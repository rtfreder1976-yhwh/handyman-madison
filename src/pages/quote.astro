---
import Layout from "../layouts/Layout.astro";
import TrustCredentials from "../components/TrustCredentials.astro";
---

<Layout
    title="Get a Free Quote"
    description="Request a free handyman estimate for your home project in Madison, Huntsville, Decatur, or Athens, Alabama. We respond within 3 hours."
>
    <!-- Hero -->
    <section
        class="relative bg-blue-900 text-white pt-32 pb-20 overflow-hidden"
    >
        <div class="absolute inset-0 z-0">
            <div
                class="absolute top-0 right-0 w-[500px] h-[500px] bg-blue-800 rounded-full blur-[100px] opacity-50 -mr-40 -mt-40"
            >
            </div>
            <div
                class="absolute bottom-0 left-0 w-[400px] h-[400px] bg-orange-500/20 rounded-full blur-[100px] -ml-40 -mb-40"
            >
            </div>
        </div>
        <div class="max-w-4xl mx-auto px-4 text-center relative z-10">
            <span
                class="text-orange-400 font-semibold text-sm uppercase tracking-wide"
                >Free Estimate ‚Ä¢ No Obligation</span
            >
            <h1 class="text-4xl md:text-5xl font-extrabold mt-2 mb-4">
                Get Your Free Quote
            </h1>
            <p class="text-xl text-blue-100 max-w-2xl mx-auto">
                Tell us about your project and we will respond within 3 hours
                with an honest assessment and transparent pricing. No pressure,
                no obligations.
            </p>
        </div>
    </section>

    <!-- Quote Form Section -->
    <section class="py-16 bg-white -mt-8 relative z-10">
        <div class="max-w-3xl mx-auto px-4">
            <div
                class="bg-white rounded-2xl shadow-xl border border-gray-200 p-8 md:p-12"
            >
                <div class="flex items-center gap-3 mb-8">
                    <div
                        class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center"
                    >
                        <svg
                            class="w-6 h-6 text-orange-600"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                            ><path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                            ></path></svg
                        >
                    </div>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">
                            Project Details
                        </h2>
                        <p class="text-gray-500 text-sm">
                            All fields marked with * are required
                        </p>
                    </div>
                </div>

                <form id="quote-form" class="space-y-6">
                    <!-- Name -->
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label
                                for="firstName"
                                class="block text-sm font-semibold text-gray-700 mb-1"
                                >First Name *</label
                            >
                            <input
                                type="text"
                                id="firstName"
                                name="firstName"
                                required
                                class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0 transition-colors text-gray-900"
                                placeholder="John"
                            />
                        </div>
                        <div>
                            <label
                                for="lastName"
                                class="block text-sm font-semibold text-gray-700 mb-1"
                                >Last Name *</label
                            >
                            <input
                                type="text"
                                id="lastName"
                                name="lastName"
                                required
                                class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0 transition-colors text-gray-900"
                                placeholder="Smith"
                            />
                        </div>
                    </div>

                    <!-- Contact Info -->
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label
                                for="phone"
                                class="block text-sm font-semibold text-gray-700 mb-1"
                                >Phone Number *</label
                            >
                            <input
                                type="tel"
                                id="phone"
                                name="phone"
                                required
                                class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0 transition-colors text-gray-900"
                                placeholder="(256) 555-1234"
                            />
                        </div>
                        <div>
                            <label
                                for="email"
                                class="block text-sm font-semibold text-gray-700 mb-1"
                                >Email</label
                            >
                            <input
                                type="email"
                                id="email"
                                name="email"
                                class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0 transition-colors text-gray-900"
                                placeholder="john@example.com"
                            />
                        </div>
                    </div>

                    <!-- Location -->
                    <div>
                        <label
                            for="city"
                            class="block text-sm font-semibold text-gray-700 mb-1"
                            >City / Area *</label
                        >
                        <select
                            id="city"
                            name="city"
                            required
                            class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0 transition-colors text-gray-900 bg-white"
                        >
                            <option value="">Select your area</option>
                            <option value="Madison">Madison</option>
                            <option value="Huntsville">Huntsville</option>
                            <option value="Decatur">Decatur</option>
                            <option value="Athens">Athens</option>
                            <option value="Harvest">Harvest</option>
                            <option value="Hampton Cove">Hampton Cove</option>
                            <option value="Other">Other North Alabama</option>
                        </select>
                    </div>

                    <!-- Service Type -->
                    <div>
                        <label
                            for="service"
                            class="block text-sm font-semibold text-gray-700 mb-1"
                            >Service Needed *</label
                        >
                        <select
                            id="service"
                            name="service"
                            required
                            class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0 transition-colors text-gray-900 bg-white"
                        >
                            <option value="">Select a service</option>
                            <option value="Drywall"
                                >Drywall Repair / Installation</option
                            >
                            <option value="Painting"
                                >Interior / Exterior Painting</option
                            >
                            <option value="Flooring"
                                >Flooring Installation / Repair</option
                            >
                            <option value="Finish Carpentry"
                                >Finish Carpentry / Trim</option
                            >
                            <option value="Gutter Cleaning"
                                >Gutter Cleaning</option
                            >
                            <option value="Gutter Installation"
                                >Gutter Installation</option
                            >
                            <option value="Multiple">Multiple Services</option>
                            <option value="Other">Other / Not Sure</option>
                        </select>
                    </div>

                    <!-- Urgency -->
                    <div>
                        <label
                            class="block text-sm font-semibold text-gray-700 mb-2"
                            >How soon do you need this done?</label
                        >
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                            <label class="cursor-pointer">
                                <input
                                    type="radio"
                                    name="urgency"
                                    value="Emergency"
                                    class="peer hidden"
                                />
                                <div
                                    class="text-center py-3 px-2 rounded-xl border-2 border-gray-200 peer-checked:border-orange-500 peer-checked:bg-orange-50 peer-checked:text-orange-700 transition-all text-sm font-medium text-gray-600 hover:border-gray-300"
                                >
                                    üö® Emergency
                                </div>
                            </label>
                            <label class="cursor-pointer">
                                <input
                                    type="radio"
                                    name="urgency"
                                    value="This Week"
                                    class="peer hidden"
                                    checked
                                />
                                <div
                                    class="text-center py-3 px-2 rounded-xl border-2 border-gray-200 peer-checked:border-blue-500 peer-checked:bg-blue-50 peer-checked:text-blue-700 transition-all text-sm font-medium text-gray-600 hover:border-gray-300"
                                >
                                    üìÖ This Week
                                </div>
                            </label>
                            <label class="cursor-pointer">
                                <input
                                    type="radio"
                                    name="urgency"
                                    value="This Month"
                                    class="peer hidden"
                                />
                                <div
                                    class="text-center py-3 px-2 rounded-xl border-2 border-gray-200 peer-checked:border-blue-500 peer-checked:bg-blue-50 peer-checked:text-blue-700 transition-all text-sm font-medium text-gray-600 hover:border-gray-300"
                                >
                                    üóìÔ∏è This Month
                                </div>
                            </label>
                            <label class="cursor-pointer">
                                <input
                                    type="radio"
                                    name="urgency"
                                    value="Flexible"
                                    class="peer hidden"
                                />
                                <div
                                    class="text-center py-3 px-2 rounded-xl border-2 border-gray-200 peer-checked:border-blue-500 peer-checked:bg-blue-50 peer-checked:text-blue-700 transition-all text-sm font-medium text-gray-600 hover:border-gray-300"
                                >
                                    ‚è≥ Flexible
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Description -->
                    <div>
                        <label
                            for="description"
                            class="block text-sm font-semibold text-gray-700 mb-1"
                            >Describe Your Project *</label
                        >
                        <textarea
                            id="description"
                            name="description"
                            rows="4"
                            required
                            class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-0 transition-colors text-gray-900 resize-none"
                            placeholder="Tell us about the work you need done. Include room dimensions, type of materials, any specific concerns, etc."
                        ></textarea>
                    </div>

                    <!-- Preferred Contact Method -->
                    <div>
                        <label
                            class="block text-sm font-semibold text-gray-700 mb-2"
                            >Preferred Contact Method</label
                        >
                        <div class="flex gap-4">
                            <label
                                class="flex items-center gap-2 cursor-pointer"
                            >
                                <input
                                    type="radio"
                                    name="contactMethod"
                                    value="Phone"
                                    checked
                                    class="text-blue-600"
                                />
                                <span class="text-sm text-gray-700"
                                    >Phone Call</span
                                >
                            </label>
                            <label
                                class="flex items-center gap-2 cursor-pointer"
                            >
                                <input
                                    type="radio"
                                    name="contactMethod"
                                    value="Text"
                                    class="text-blue-600"
                                />
                                <span class="text-sm text-gray-700"
                                    >Text Message</span
                                >
                            </label>
                            <label
                                class="flex items-center gap-2 cursor-pointer"
                            >
                                <input
                                    type="radio"
                                    name="contactMethod"
                                    value="Email"
                                    class="text-blue-600"
                                />
                                <span class="text-sm text-gray-700">Email</span>
                            </label>
                        </div>
                    </div>

                    <!-- Submit -->
                    <div class="pt-4 border-t border-gray-100">
                        <button
                            type="submit"
                            id="submit-btn"
                            class="w-full bg-orange-500 hover:bg-orange-600 text-white font-extrabold py-4 px-8 rounded-xl transition-all duration-200 text-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 flex items-center justify-center gap-3"
                        >
                            <svg
                                class="w-5 h-5"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                                ><path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                                ></path></svg
                            >
                            Submit Free Quote Request
                        </button>
                        <p class="text-center text-sm text-gray-500 mt-3">
                            We respond to every inquiry within 3 hours during
                            business hours.
                        </p>
                    </div>
                </form>

                <!-- Success Message (hidden by default) -->
                <div id="success-message" class="hidden text-center py-12">
                    <div
                        class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6"
                    >
                        <svg
                            class="w-10 h-10 text-green-600"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                            ><path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M5 13l4 4L19 7"></path></svg
                        >
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">
                        Quote Request Submitted!
                    </h3>
                    <p class="text-gray-600 mb-6 max-w-md mx-auto">
                        Thank you. We have received your project details and
                        will respond within 3 hours during business hours. For
                        immediate assistance, call us directly.
                    </p>
                    <a
                        href="tel:+12565550123"
                        class="inline-flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-xl transition-colors"
                    >
                        <svg
                            class="w-5 h-5"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                            ><path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                            ></path></svg
                        >
                        Call (256) 555-0123
                    </a>
                </div>
            </div>

            <!-- Side trust signals -->
            <div class="grid sm:grid-cols-3 gap-4 mt-8">
                <div class="flex items-center gap-3 bg-gray-50 rounded-xl p-4">
                    <svg
                        class="w-8 h-8 text-green-500 flex-shrink-0"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        ><path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                        ></path></svg
                    >
                    <div>
                        <p class="font-bold text-gray-900 text-sm">
                            $1M Insured
                        </p>
                        <p class="text-xs text-gray-500">
                            Full liability coverage
                        </p>
                    </div>
                </div>
                <div class="flex items-center gap-3 bg-gray-50 rounded-xl p-4">
                    <svg
                        class="w-8 h-8 text-blue-500 flex-shrink-0"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        ><path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                        ></path></svg
                    >
                    <div>
                        <p class="font-bold text-gray-900 text-sm">
                            &lt; 3hr Response
                        </p>
                        <p class="text-xs text-gray-500">
                            Guaranteed reply time
                        </p>
                    </div>
                </div>
                <div class="flex items-center gap-3 bg-gray-50 rounded-xl p-4">
                    <svg
                        class="w-8 h-8 text-orange-500 flex-shrink-0"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        ><path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M5 13l4 4L19 7"></path></svg
                    >
                    <div>
                        <p class="font-bold text-gray-900 text-sm">
                            Work Warranty
                        </p>
                        <p class="text-xs text-gray-500">100% satisfaction</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <TrustCredentials />
</Layout>

<script>
    const form = document.getElementById("quote-form") as HTMLFormElement;
    const successMessage = document.getElementById("success-message");
    const submitBtn = document.getElementById("submit-btn");

    if (form) {
        form.addEventListener("submit", (e) => {
            e.preventDefault();

            // Gather form data
            const formData = new FormData(form);
            const firstName = formData.get("firstName") || "";
            const lastName = formData.get("lastName") || "";
            const phone = formData.get("phone") || "";
            const email = formData.get("email") || "";
            const city = formData.get("city") || "";
            const service = formData.get("service") || "";
            const urgency = formData.get("urgency") || "This Week";
            const description = formData.get("description") || "";
            const contactMethod = formData.get("contactMethod") || "Phone";

            // Build SMS message body
            const smsBody =
                `NEW QUOTE REQUEST\n` +
                `Name: ${firstName} ${lastName}\n` +
                `Phone: ${phone}\n` +
                `Email: ${email}\n` +
                `Area: ${city}\n` +
                `Service: ${service}\n` +
                `Urgency: ${urgency}\n` +
                `Contact via: ${contactMethod}\n` +
                `Details: ${description}`;

            // Send via SMS link (opens user's SMS app to send to the handyman)
            const handymanNumber = "+12565550123";
            const smsLink = `sms:${handymanNumber}?body=${encodeURIComponent(smsBody)}`;

            // Open SMS
            window.location.href = smsLink;

            // Show success message
            form.classList.add("hidden");
            successMessage?.classList.remove("hidden");

            // Scroll to success message
            successMessage?.scrollIntoView({
                behavior: "smooth",
                block: "center",
            });
        });
    }
</script>
